{set $rows = json_decode($_modx->resource.modules, true)}

{if count($rows) % 2 == 1}
{set $countModules = (count($rows)-1) / 2 + 1}
{else}
{set $countModules = count($rows) / 2}
{/if}
{set $j = 1}

{for $i=0 to=count($rows) - 1 index=$index}

{if $i == 0}
<div class="module active">
    <div class="split row">
        {set $items = $rows.0.list_points | fromJSON}
        <ol class="text-white list-unstyled ps-lg-5 ps-3" style="font-size: 20px; line-height: 25px">
            {set $k = 1}
            {foreach $items as $item}
            <li>{$k}. {$item.point}</li>
            {set $k += 1}
            {/foreach}
        </ol>
    </div>
</div>

<div class="module">
    <div class="split row">
        {set $items = $rows.$countModules.list_points | fromJSON}
        <ol class="text-white list-unstyled ps-lg-5 ps-3" style="font-size: 20px; line-height: 25px">
            {set $k = 1}
            {foreach $items as $item}
            <li>{$k}. {$item.point}</li>
            {set $k += 1} {/foreach}
        </ol>
    </div>
</div>
{continue}

{/if}

<div class="module">
    <div class="split row">
        {set $items = $rows.$i.list_points | fromJSON}
        <ol class="text-white list-unstyled ps-lg-5 ps-3" style="font-size: 20px; line-height: 25px">
            {set $k = 1}
            {foreach $items as $item}
            <li>{$k}. {$item.point}</li>
            {set $k += 1} {/foreach}
        </ol>
    </div>
</div>

{if $i < $countModules} {set $temp=$countModules + $j} {if $temp < count($rows)} <div class="module">
    <div class="split row">
        {set $items = $rows.$temp.list_points | fromJSON}
        <ol class="text-white list-unstyled ps-lg-5 ps-3" style="font-size: 20px; line-height: 25px">
            {set $k = 1}
            {foreach $items as $item}
            <li>{$k}. {$item.point}</li>
            {set $k += 1} {/foreach}
            {set $j += 1}
        </ol>
    </div>
    </div>
    {/if}
    {/if}


    {/for}